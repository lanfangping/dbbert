Performance tips  |  Cloud SQL for PostgreSQL  |  Google Cloud
Why Google
close
Transform your business with innovative solutions
Whether your business is early in its journey or well on its way to digital transformation, Google Cloud's solutions and technologies help solve your toughest challenges.
Learn more
Why Google Cloud
Choosing Google Cloud
Reasons why businesses choose us.
Multicloud
Run your apps wherever you need them.
Trust and security
Keep your data secure and compliant.
Global infrastructure
Build on the same infrastructure Google uses.
Data analytics
Make smarter decisions with the leading data platform.
Open cloud
Scale with open, flexible technology.
Sustainability
Run on the cleanest cloud in the industry.
Analyst reports
See how Google Cloud ranks.
Customer stories
Learn how businesses use Google Cloud.
Google Cloud Blog
Read the latest story and product updates.
Solutions
close
Industry Solutions
Reduce cost, increase operational agility, and capture new market opportunities.
Retail
Analytics and collaboration tools for the retail value chain.
Consumer Packaged Goods
Solutions for CPG digital transformation and brand growth.
Financial Services
Computing, data management, and analytics tools for financial services.
Healthcare and Life Sciences
Health-specific solutions to enhance the patient experience.
Media and Entertainment
Solutions for content production and distribution operations.
Telecommunications
Hybrid and multi-cloud services to deploy and monetize 5G.
Gaming
AI-driven solutions to build and scale games faster.
Manufacturing
Migration and AI tools to optimize the manufacturing value chain.
Supply Chain and Logistics
Digital supply chain solutions built in the cloud.
Government
Data storage, AI, and analytics solutions for government agencies.
Education
Teaching tools to provide more engaging learning experiences.
Small and Medium Business
Explore SMB solutions for web hosting, app development, AI, analytics, and more.
Not seeing what you're looking for?
See all solutions
Application Modernization
Develop and run applications anywhere, using cloud-native technologies like containers, serverless, and service mesh.
Hybrid and Multi-cloud Application Platform
Platform for modernizing legacy apps and building new apps.
Cloud-Native App Development
End-to-end solution for building, deploying, and managing apps.
Serverless Solutions
Fully managed environment for developing, deploying and scaling apps.
DevOps
Processes and resources for implementing DevOps in your org.
Continuous Delivery (CD)
End-to-end automation from source to production.
Continuous Integration (CI)
Fast feedback on code changes at scale.
Mainframe Modernization
Automated tools and prescriptive guidance for moving to the cloud.
Hosting
Services and infrastructure for building web apps and websites.
Artificial Intelligence
Add intelligence and efficiency to your business with AI and machine learning.
Build and Use AI
Products to build and use artificial intelligence.
Contact Center AI
AI model for speaking with customers and assisting human agents.
Document AI
Machine learning and AI to unlock insights from your documents.
Cloud Talent Solution
AI with job search and talent acquisition capabilities.
Business Application Platform
Speed up the pace of innovation without coding, using APIs, apps, and automation.
New Business Channels Using APIs
Attract and empower an ecosystem of developers and partners.
Unlocking Legacy Applications Using APIs
Cloud services for extending and modernizing legacy apps.
Open Banking APIx
Simplify and accelerate secure delivery of open banking compliant APIs.
Databases
Migrate and manage enterprise data with security, reliability, high availability, and fully managed data services.
Database Migration
Guides and tools to simplify your database migration life cycle.
Database Modernization
Upgrades to modernize your operational database infrastructure.
Google Cloud Databases
Database services to migrate, manage, and modernize data.
Migrate Oracle workloads to Google Cloud
Rehost, replatform, rewrite your Oracle workloads.
Open Source Databases
Fully managed open source databases with enterprise-grade support.
SQL Server on Google Cloud
Options for running SQL Server virtual machines on Google Cloud.
Digital Transformation
Accelerate business recovery and ensure a better future with solutions that enable hybrid and multi-cloud, generate intelligent insights, and keep your workers connected.
Business Continuity
Proactively plan and prioritize workloads.
Digital Innovation
Reimagine your operations and unlock new opportunities.
Operational Efficiency
Prioritize investments and optimize costs.
COVID-19 Solutions
Get work done more safely and securely.
COVID-19 Solutions for the Healthcare Industry
How Google is helping healthcare meet extraordinary challenges.
Infrastructure Modernization
Migrate quickly with solutions for SAP, VMware, Windows, Oracle, and other workloads.
Application Migration
Discovery and analysis tools for moving to the cloud.
SAP on Google Cloud
Certifications for running SAP applications and SAP HANA.
High Performance Computing
Compute, storage, and networking options to support any workload.
Windows on Google Cloud
Tools and partners for running Windows workloads.
Data Center Migration
Migration solutions for VMs, apps, databases, and more.
Active Assist
Automatic cloud resource optimization and increased security.
Virtual Desktops
Remote work solutions for desktops and applications (VDI & DaaS).
Rapid Assessment & Migration Program (RAMP)
End-to-end migration program to simplify your path to the cloud.
Productivity and Collaboration
Change the way teams work with solutions designed for humans and built for impact.
Google Workspace
Collaboration and productivity tools for enterprises.
Google Workspace Essentials
Secure video meetings and modern collaboration for teams.
Cloud Identity
Unified platform for IT admins to manage user devices and apps.
Chrome Enterprise
Chrome OS, Chrome Browser, and Chrome devices built for business.
Cloud Search
Enterprise search for employees to quickly find company information.
Security
Detect, investigate, and respond to online threats to help protect your business.
Security Analytics and Operations
Solution for analyzing petabytes of security telemetry.
Web App and API Protection
Threat and fraud protection for your web applications and APIs.
Smart Analytics
Generate instant insights from data at any scale with a serverless, fully managed analytics platform that significantly simplifies analytics.
Data Warehouse Modernization
Data warehouse to jumpstart your migration and unlock insights.
Stream Analytics
Insights from ingesting, processing, and analyzing event streams.
Marketing Analytics
Solutions for collecting, analyzing, and activating customer data.
Data Lake Modernization
Services for building and modernizing your data lake.
Business Intelligence
Data analytics tools for collecting, analyzing, and activating BI.
Products
close
Featured Products
Compute Engine
Virtual machines running in Google’s data center.
Cloud Storage
Object storage that’s secure, durable, and scalable.
Cloud SDK
Command-line tools and libraries for Google Cloud.
Cloud SQL
Relational database services for MySQL, PostgreSQL, and SQL server.
Google Kubernetes Engine
Managed environment for running containerized apps.
BigQuery
Data warehouse for business agility and insights.
Cloud CDN
Content delivery network for delivering web and video.
Dataflow
Streaming analytics for stream and batch
processing.
Operations
Monitoring, logging, and application performance suite.
Cloud Run
Fully managed environment for running containerized apps.
Anthos
Platform for modernizing existing apps and building new ones.
Not seeing what you're looking for?
See all products (100+)
AI and Machine Learning
Speech-to-Text
Speech recognition and transcription supporting 125 languages.
Vision AI
Custom and pre-trained models to detect emotion, text, more.
Text-to-Speech
Speech synthesis in 220+ voices and 40+ languages.
Cloud Translation
Language detection, translation, and glossary support.
Cloud Natural Language
Sentiment analysis and classification of unstructured text.
AutoML
Custom machine learning model training and development.
AI Platform
Platform for training, hosting, and managing ML models.
Video AI
Video classification and recognition using machine learning.
AI Infrastructure
Options for every business to train deep learning and machine learning models cost-effectively.
Dialogflow
Conversation applications and systems development suite for virtual agents.
AutoML Tables
Service for training ML models with structured data.
Not seeing what you're looking for?
See all AI and machine learning products
API Management
Apigee API Management
Manage the full life cycle of APIs anywhere with visibility and control.
Cloud Endpoints
Deployment and development management for APIs on Google Cloud.
Cloud Healthcare API
Solution to bridge existing care systems and apps on Google Cloud.
AppSheet
No-code development platform to build and extend applications.
API Gateway
Develop, deploy, secure, and manage APIs with a fully managed gateway.
Compute
Compute Engine
Virtual machines running in Google’s data center.
App Engine
Serverless application platform for apps and back ends.
Cloud GPUs
GPUs for ML, scientific computing, and 3D visualization.
Migrate for Compute Engine
Server and virtual machine migration to Compute Engine.
Preemptible VMs
Compute instances for batch jobs and fault-tolerant workloads.
Shielded VMs
Reinforced virtual machines on Google Cloud.
Sole-Tenant Nodes
Dedicated hardware for compliance, licensing, and management.
Bare Metal
Infrastructure to run specialized workloads on Google Cloud.
Recommender
Usage recommendations for Google Cloud products and services.
VMware Engine
Fully managed, native VMware Cloud Foundation software stack.
Cloud Run
Fully managed environment for running containerized apps.
Not seeing what you're looking for?
See all compute products
Containers
Google Kubernetes Engine
Managed environment for running containerized apps.
Container Registry
Registry for storing, managing, and securing Docker images.
Container Security
Container environment security for each stage of the life cycle.
Cloud Build
Solution for running build steps in a Docker container.
Deep Learning Containers
Containers with data science frameworks, libraries, and tools.
Kubernetes Applications
Containerized apps with prebuilt deployment and unified billing.
Artifact Registry
Package manager for build artifacts and dependencies.
Knative
Components to create Kubernetes-native cloud-based software.
Cloud Run
Fully managed environment for running containerized apps.
Cloud Code
IDE support to write, run, and debug Kubernetes applications.
Data Analytics
BigQuery
Data warehouse for business agility and insights.
Looker
Platform for BI, data applications, and embedded analytics.
Dataflow
Streaming analytics for stream and batch processing.
Pub/Sub
Messaging service for event ingestion and delivery.
Dataproc
Service for running Apache Spark and Apache Hadoop clusters.
Cloud Data Fusion
Data integration for building and managing data pipelines.
Cloud Composer
Workflow orchestration service built on Apache Airflow.
Data Catalog
Metadata service for discovering, understanding and managing data.
Dataprep
Service to prepare data for analysis and machine learning.
Google Data Studio
Interactive data suite for dashboarding, reporting, and analytics.
Google Marketing Platform
Marketing platform unifying advertising and analytics.
Cloud Life Sciences
Tools for managing, processing, and transforming biomedical data.
Databases
Cloud Bigtable
Cloud-native wide-column database for large scale, low-latency workloads.
Firestore
Cloud-native document database for building rich mobile, web, and IoT apps.
Memorystore
In-memory database for managed Redis and Memcached.
Cloud Spanner
Cloud-native relational database with unlimited scale and 99.999% availability.
Cloud SQL
Fully managed database for MySQL, PostgreSQL, and SQL Server.
Database Migration Service
Serverless, minimal downtime migrations to Cloud SQL.
Bare Metal
Infrastructure to run specialized workloads on Google Cloud.
Firebase Realtime Database
NoSQL database for storing and syncing data in real time.
Developer Tools
Artifact Registry
Universal package manager for build artifacts and dependencies.
Cloud Build
Continuous integration and continuous delivery platform.
Cloud Code
IDE support to write, run, and debug Kubernetes applications.
Cloud Deployment Manager
Service for creating and managing Google Cloud resources.
Cloud SDK
Command line tools and libraries for Google Cloud.
Cloud Scheduler
Cron job scheduler for task automation and management.
Cloud Source Repositories
Private Git repository to store, manage, and track code.
Cloud Tasks
Task management service for asynchronous task execution.
Container Registry
Private Docker storage for container images on Google Cloud.
Tekton
Kubernetes-native resources for declaring CI/CD pipelines.
Not seeing what you're looking for?
See all developer tools
Healthcare and Life Sciences
Apigee Healthcare APIx
FHIR API-based digital service production.
Cloud Healthcare API
Solution for bridging existing care systems and apps on Google Cloud.
Cloud Life Sciences
Tools for managing, processing, and transforming biomedical data.
Healthcare Natural Language AI
Real-time insights from unstructured medical text.
Hybrid and Multi-cloud
Anthos
Platform for modernizing existing apps and building new ones.
Looker
Platform for BI, data applications, and embedded analytics.
Cloud Run for Anthos
Integration that provides a serverless development platform on GKE.
Google Cloud Marketplace for Anthos
Containerized apps with prebuilt deployment and unified billing.
Migrate for Anthos
Tool to move workloads and existing applications to GKE.
Operations
Monitoring, logging, and application performance suite.
Cloud Build
Service for executing builds on Google Cloud infrastructure.
Traffic Director
Traffic control pane and management for open service mesh.
Apigee API Management
API management, development, and security platform.
Internet of Things
Cloud IoT Core
IoT device management, integration, and
connection service.
Edge TPU
ASIC designed to run ML inference and AI at the edge.
Management Tools
Cloud Shell
Interactive shell environment with a built-in command line.
Cloud Console
Web-based interface for managing and monitoring cloud apps.
Cloud Deployment Manager
Service for creating and managing Google Cloud resources.
Cloud Mobile App
App to
manage Google Cloud services from your mobile device.
Cloud APIs
Programmatic interfaces for
Google Cloud services.
Private Catalog
Service catalog for admins managing internal enterprise solutions.
Cost Management
Tools for monitoring, controlling, and optimizing your costs.
Intelligent Management
Tools for easily managing performance, security, and cost.
Media and Gaming
Game Servers
Game server management service running on Google Kubernetes Engine.
OpenCue
Open source render manager for visual effects and animation.
Migration
Application Migration
App migration to the cloud for low-cost refresh cycles.
BigQuery Data Transfer Service
Data import service for scheduling and moving data into BigQuery.
Cloud Data Transfer
Tools and services for transferring your data to Google Cloud.
Cloud Foundation Toolkit
Reference templates for Deployment Manager and Terraform.
Database Migration Service
Serverless, minimal downtime migrations to Cloud SQL.
Migrate for Anthos
Components for migrating VMs into system containers on GKE.
Migrate for Compute Engine
Components for migrating VMs and physical servers to Compute Engine.
Rapid Assessment & Migration Program (RAMP)
End-to-end migration program to simplify your path to the cloud.
Transfer Appliance
Storage server for moving large volumes of data to Google Cloud.
Transfer Service
Data transfers from online and on-premises sources to Cloud Storage.
VMware Engine
Migrate and run your VMware workloads natively on Google Cloud.
Networking
Cloud Armor
Security policies and defense against web and DDoS attacks.
Cloud CDN
Content delivery network for serving web and video content.
Cloud DNS
Domain name system for reliable and low-latency name lookups.
Cloud Load Balancing
Service for distributing traffic across applications and regions.
Cloud NAT
NAT service for giving private instances internet access.
Hybrid Connectivity
Connectivity options for VPN, peering, and enterprise needs.
Network Intelligence Center
Network monitoring, verification, and optimization platform.
Network Service Tiers
Cloud network options
based on performance, availability, and cost.
Network Telemetry
VPC flow logs for network monitoring, forensics, and security.
Traffic Director
Traffic control pane and management for open service mesh.
Virtual Private Cloud
Virtual network for Google Cloud resources and cloud-based services.
Service Directory
Platform for discovering, publishing, and connecting services.
Operations
Cloud Logging
Google Cloud audit, platform, and application logs management.
Cloud Monitoring
Infrastructure and application health with rich metrics.
Error Reporting
Application error identification and analysis.
Kubernetes Engine Monitoring
GKE app development and troubleshooting.
Cloud Trace
Tracing system collecting latency data from applications.
Cloud Profiler
CPU and heap profiler for analyzing application performance.
Cloud Debugger
Real-time application state inspection and in-production debugging.
Intelligent Operations
Tools for easily optimizing performance, security, and cost.
Security and Identity
Cloud IAM
Permissions management system for Google Cloud resources.
Assured Workloads
Compliance and security controls for sensitive workloads.
Cloud Key Management
Manage encryption keys on Google Cloud.
Confidential Computing
Encrypt data in use with Confidential VMs.
Security Command Center
Platform for defending against threats to your Google Cloud assets.
Cloud Data Loss Prevention
Sensitive data inspection, classification, and redaction platform.
Managed Service for Microsoft Active Directory
Hardened service running Microsoft® Active Directory (AD).
Access Transparency
Cloud provider visibility through near real-time logs.
Titan Security Key
Two-factor authentication device for user account protection.
Secret Manager
Store API keys, passwords, certificates, and other sensitive data.
BeyondCorp Enterprise
Zero trust solution for secure application and resource access.
Not seeing what you're looking for?
See all security and identity products
Serverless Computing
Cloud Run
Fully managed environment for running containerized apps.
Cloud Functions
Platform for creating functions that respond to cloud events.
App Engine
Serverless application platform for apps and back ends.
Workflows
Workflow orchestration for serverless products and API services.
Storage
All Storage Products
Cloud-based storage services for your business.
Cloud Storage
Object storage that’s secure, durable, and scalable.
Filestore
File storage that is highly scalable and secure.
Persistent Disk
Block storage for virtual machine instances running on Google Cloud.
Cloud Storage for Firebase
Object storage for storing and serving user-generated content.
Local SSD
Block storage that is locally attached for high-performance needs.
Archival Storage
Data archive that offers online access speed at ultra low cost.
Cloud Data Transfer
Tools and services for transferring your data to Google Cloud.
Google Workspace Essentials
Secure video meetings and modern collaboration for teams.
Pricing
close
Do more for less with Google Cloud
Our customer-friendly pricing means more overall value to your business.
Contact Us
Google Cloud Platform
Overview
Pay only for what you use with no lock-in
Price list
Pricing details on each Google Cloud product
Calculators
Calculate your cloud savings
Free on Google Cloud
Learn and build on Google Cloud for free
More Cloud Products
Google Workspace
Google Maps Platform
Cloud Identity
Apigee
Firebase
Zync Render
Getting started
close
Get started with Google Cloud
Start building right away on our secure, intelligent platform. New customers can use a $300 free credit to get started with any GCP product.
Try GCP Free
Get Started
Resources to Start on Your Own
Quickstarts
View short tutorials to help you get started
GCP Marketplace
Deploy ready-to-go solutions in a few clicks
Training
Enroll in on-demand or classroom training
Certification
Become Google Cloud Certified
Get Help from an Expert
Consulting
Jump-start your project with help from Google
Technical Account Management
Get long-term guidance from Google
Find a Partner
Work with a Partner in our global network
Become a Partner
Join Google Cloud's Partner program
More ways to get started
Docs
Support
Docs
Support
Language
English
Deutsch
Español – América Latina
Français
Português – Brasil
中文 – 简体
日本語
한국어
Cloud SQL
Overview
Guides
Reference
Samples
Support
Resources
Contact Us
Get started for free
Why Google
More
Solutions
More
Products
More
Pricing
More
Getting started
More
Docs
Overview
Guides
Reference
Samples
Support
Resources
Support
Console
Contact Us
Get started for free
Cloud SQL for PostgreSQL
All APIs and reference
Error codes
Cloud SQL MetricsCloud SQL metricsInsights metrics
REST Reference
v1beta4REST Resources
backupRunsOverviewdeletegetinsertlist
databasesOverviewdeletegetinsertlistpatchupdate
flagsOverviewlist
instancesOverviewaddServerCaclonedeletedemoteMasterexportfailovergetimportinsertlistlistServerCaspatchpromoteReplicaresetSslConfigrestartrestoreBackuprotateServerCastartReplicastopReplicatruncateLogupdate
operationsOverviewgetlist
projects.instancesOverviewrescheduleMaintenancestartExternalSyncverifyExternalSyncSettings
sslCertsOverviewcreateEphemeraldeletegetinsertlist
tiersOverviewlist
usersOverviewdeleteinsertlistupdateTypesDiskEncryptionConfigurationDiskEncryptionStatusExternalSyncModeOperationErrorSqlDatabaseVersion
API overviewUsing the Cloud SQL Admin APIConfiguring VPC Service Controls
API basicsAuthorizing requestsPerformance tips
Client libraries and sample code
gcloud sqlOverviewReference
Transform your business with innovative solutions
Learn more
Why Google Cloud
Choosing Google Cloud
Multicloud
Trust and security
Global infrastructure
Data analytics
Open cloud
Sustainability
Analyst reports
Customer stories
Google Cloud Blog
Industry Solutions
Retail
Consumer Packaged Goods
Financial Services
Healthcare and Life Sciences
Media and Entertainment
Telecommunications
Gaming
Manufacturing
Supply Chain and Logistics
Government
Education
Small and Medium Business
See all solutions
Application Modernization
Hybrid and Multi-cloud Application Platform
Cloud-Native App Development
Serverless Solutions
DevOps
Continuous Delivery (CD)
Continuous Integration (CI)
Mainframe Modernization
Hosting
Artificial Intelligence
Build and Use AI
Contact Center AI
Document AI
Cloud Talent Solution
Business Application Platform
New Business Channels Using APIs
Unlocking Legacy Applications Using APIs
Open Banking APIx
Databases
Database Migration
Database Modernization
Google Cloud Databases
Migrate Oracle workloads to Google Cloud
Open Source Databases
SQL Server on Google Cloud
Digital Transformation
Business Continuity
Digital Innovation
Operational Efficiency
COVID-19 Solutions
COVID-19 Solutions for the Healthcare Industry
Infrastructure Modernization
Application Migration
SAP on Google Cloud
High Performance Computing
Windows on Google Cloud
Data Center Migration
Active Assist
Virtual Desktops
Rapid Assessment & Migration Program (RAMP)
Productivity and Collaboration
Google Workspace
Google Workspace Essentials
Cloud Identity
Chrome Enterprise
Cloud Search
Security
Security Analytics and Operations
Web App and API Protection
Smart Analytics
Data Warehouse Modernization
Stream Analytics
Marketing Analytics
Data Lake Modernization
Business Intelligence
Featured Products
Compute Engine
Cloud Storage
Cloud SDK
Cloud SQL
Google Kubernetes Engine
BigQuery
Cloud CDN
Dataflow
Operations
Cloud Run
Anthos
See all products (100+)
AI and Machine Learning
Speech-to-Text
Vision AI
Text-to-Speech
Cloud Translation
Cloud Natural Language
AutoML
AI Platform
Video AI
AI Infrastructure
Dialogflow
AutoML Tables
See all AI and machine learning products
API Management
Apigee API Management
Cloud Endpoints
Cloud Healthcare API
AppSheet
API Gateway
Compute
Compute Engine
App Engine
Cloud GPUs
Migrate for Compute Engine
Preemptible VMs
Shielded VMs
Sole-Tenant Nodes
Bare Metal
Recommender
VMware Engine
Cloud Run
See all compute products
Containers
Google Kubernetes Engine
Container Registry
Container Security
Cloud Build
Deep Learning Containers
Kubernetes Applications
Artifact Registry
Knative
Cloud Run
Cloud Code
Data Analytics
BigQuery
Looker
Dataflow
Pub/Sub
Dataproc
Cloud Data Fusion
Cloud Composer
Data Catalog
Dataprep
Google Data Studio
Google Marketing Platform
Cloud Life Sciences
Databases
Cloud Bigtable
Firestore
Memorystore
Cloud Spanner
Cloud SQL
Database Migration Service
Bare Metal
Firebase Realtime Database
Developer Tools
Artifact Registry
Cloud Build
Cloud Code
Cloud Deployment Manager
Cloud SDK
Cloud Scheduler
Cloud Source Repositories
Cloud Tasks
Container Registry
Tekton
See all developer tools
Healthcare and Life Sciences
Apigee Healthcare APIx
Cloud Healthcare API
Cloud Life Sciences
Healthcare Natural Language AI
Hybrid and Multi-cloud
Anthos
Looker
Cloud Run for Anthos
Google Cloud Marketplace for Anthos
Migrate for Anthos
Operations
Cloud Build
Traffic Director
Apigee API Management
Internet of Things
Cloud IoT Core
Edge TPU
Management Tools
Cloud Shell
Cloud Console
Cloud Deployment Manager
Cloud Mobile App
Cloud APIs
Private Catalog
Cost Management
Intelligent Management
Media and Gaming
Game Servers
OpenCue
Migration
Application Migration
BigQuery Data Transfer Service
Cloud Data Transfer
Cloud Foundation Toolkit
Database Migration Service
Migrate for Anthos
Migrate for Compute Engine
Rapid Assessment & Migration Program (RAMP)
Transfer Appliance
Transfer Service
VMware Engine
Networking
Cloud Armor
Cloud CDN
Cloud DNS
Cloud Load Balancing
Cloud NAT
Hybrid Connectivity
Network Intelligence Center
Network Service Tiers
Network Telemetry
Traffic Director
Virtual Private Cloud
Service Directory
Operations
Cloud Logging
Cloud Monitoring
Error Reporting
Kubernetes Engine Monitoring
Cloud Trace
Cloud Profiler
Cloud Debugger
Intelligent Operations
Security and Identity
Cloud IAM
Assured Workloads
Cloud Key Management
Confidential Computing
Security Command Center
Cloud Data Loss Prevention
Managed Service for Microsoft Active Directory
Access Transparency
Titan Security Key
Secret Manager
BeyondCorp Enterprise
See all security and identity products
Serverless Computing
Cloud Run
Cloud Functions
App Engine
Workflows
Storage
All Storage Products
Cloud Storage
Filestore
Persistent Disk
Cloud Storage for Firebase
Local SSD
Archival Storage
Cloud Data Transfer
Google Workspace Essentials
Do more for less with Google Cloud
Contact Us
Google Cloud Platform
Overview
Price list
Calculators
Free on Google Cloud
More Cloud Products
Google Workspace
Google Maps Platform
Cloud Identity
Apigee
Firebase
Zync Render
Get started with Google Cloud
Try GCP Free
Get Started
Resources to Start on Your Own
Quickstarts
GCP Marketplace
Training
Certification
Get Help from an Expert
Consulting
Technical Account Management
Find a Partner
Become a Partner
More ways to get started
Home
Docs
Cloud SQL
Documentation
PostgreSQL
Reference
Send feedback
Performance tips
This document covers some techniques you can use to improve the performance of your application. In some cases, examples from other APIs or generic APIs are used to illustrate the ideas presented. However, the same concepts are applicable to the Cloud SQL Admin API.
Compression using gzip
An easy and convenient way to reduce the bandwidth needed for each request is to enable gzip compression. Although this requires additional CPU time to uncompress the results, the trade-off with network costs usually makes it very worthwhile.
In order to receive a gzip-encoded response you must do two things: Set an Accept-Encoding header, and modify your user agent to contain the string gzip. Here is an example of properly formed HTTP headers for enabling gzip compression:
Accept-Encoding: gzip
User-Agent: my program (gzip)
Working with partial resources
Another way to improve the performance of your API calls is by sending and receiving only the portion of the
data that you're interested in. This lets your application avoid transferring, parsing, and storing unneeded fields, so it can use resources including network, CPU, and memory more efficiently.
There are two types of partial requests:
Partial response: A request where you specify which fields to include in the response (use the fields request parameter).
Patch: An update request where you send only the fields you want to change (use the PATCH HTTP verb).
More details on making partial requests are provided in the following sections.
Partial response
By default, the server sends back the full representation of a resource after processing requests. For better performance, you can ask the server to send only the fields you really need and get a partial response instead.
To request a partial response, use the fields request parameter to specify the fields you want returned. You can use this parameter with any request that returns response data.
Note that the fields parameter only affects the response data; it does not affect the data that you need to send, if any. To reduce the amount of data you send when modifying resources, use a patch request.
Example
The following example shows the use of the fields parameter with a generic (fictional) "Demo" API.
Simple request: This HTTP GET request omits the fields parameter and returns the full resource.
https://www.googleapis.com/demo/v1
Full resource response: The full resource data includes the following fields, along with many others that have been omitted for brevity.
"kind": "demo",
...
"items": [
"title": "First title",
"comment": "First comment.",
"characteristics": {
"length": "short",
"accuracy": "high",
"followers": ["Jo", "Will"],
"status": "active",
...
"title": "Second title",
"comment": "Second comment.",
"characteristics": {
"length": "long",
"accuracy": "medium"
"followers": [ ],
"status": "pending",
...
...
Request for a partial response: The following request for this same resource uses the fields parameter to significantly reduce the amount of data returned.
https://www.googleapis.com/demo/v1?fields=kind,items(title,characteristics/length)
Partial response: In response to the request above, the server sends back a response that contains only the kind information along with a pared-down items array that includes only HTML title and length characteristic information in each item.
200 OK
"kind": "demo",
"items": [{
"title": "First title",
"characteristics": {
"length": "short"
}, {
"title": "Second title",
"characteristics": {
"length": "long"
...
Note that the response is a JSON object that includes only the selected fields and their enclosing parent objects.
Details on how to format the fields parameter is covered next, followed by more details about what exactly gets returned in the response.
Fields parameter syntax summary
The format of the fields request parameter value is loosely based on XPath syntax. The supported syntax is summarized below, and additional examples are provided in the following section.
Use a comma-separated list to select multiple fields.
Use a/b to select a field b that is nested within field a; use a/b/c to select a field c nested within b.
Exception: For API responses that use "data" wrappers, where the response is nested within a data object that looks like data: { ... }, do not include "data" in the fields specification.
Including the data object with a fields specification like data/a/b causes an error. Instead, just use a fields specification like a/b.
Use a sub-selector to request a set of specific sub-fields of arrays or objects by placing expressions in parentheses "( )".
For example: fields=items(id,author/email) returns only the item ID and author's email for each element in the items array. You can also specify a single sub-field, where fields=items(id) is equivalent to fields=items/id.
Use wildcards in field selections, if needed.
For example: fields=items/pagemap/* selects all objects in a pagemap.
More examples of using the fields parameter
The examples below include descriptions of how the fields parameter value affects the response.
Note: As with all query parameter values, the fields parameter value must be URL encoded. For better readability, the examples in this document omit the encoding.
Identify the fields you want returned, or make field selections.
The fields request parameter value is a comma-separated list of fields, and each field is specified relative to the root of the response. Thus, if you are performing a list operation, the response is a collection, and it generally includes an array of resources. If you are performing an operation that returns a single resource, fields are specified relative to that resource. If the field you select is (or is part of) an array, the server returns the selected portion of all elements in the array.
Here are some collection-level examples:
Examples
Effect
items
Returns all elements in the items array, including all fields in each element, but no other fields.
etag,items
Returns both the etag field
and all elements in the items array.
items/title
Returns only the title field for all elements in the items array.
Whenever a nested field is returned, the response includes the enclosing parent objects. The parent fields do not include any other child fields unless they are also selected explicitly.
context/facets/label
Returns only the label field for all members of the facets array, which is itself nested under the context object.
items/pagemap/*/title
For each element in the items array, returns only the title field (if present) of all objects that are children of pagemap.
Here are some resource-level examples:
Examples
Effect
title
Returns the title field of the requested resource.
author/uri
Returns the uri sub-field of the author object in the requested resource.
links/*/href
Returns the href field of all objects that are children of links.
Request only parts of specific fields using sub-selections.
By default, if your request specifies particular fields, the server returns the objects or array elements in their entirety. You can specify a response that includes only certain sub-fields. You do this using "( )" sub-selection syntax, as in the example below.
Example
Effect
items(title,author/uri)
Returns only the values of the title and author's uri for each element in the items array.
Handling partial responses
After a server processes a valid request that includes the fields query parameter, it sends back an HTTP 200 OK status code, along with the requested data. If the fields query parameter has an error or is otherwise invalid, the server returns an HTTP 400 Bad Request status code, along with an error message telling the user what was wrong with their fields selection (for example, "Invalid field selection a/b").
Here is the partial response example shown in the introductory section above. The request uses the fields parameter to specify which fields to return.
https://www.googleapis.com/demo/v1?fields=kind,items(title,characteristics/length)
The partial response looks like this:
200 OK
"kind": "demo",
"items": [{
"title": "First title",
"characteristics": {
"length": "short"
}, {
"title": "Second title",
"characteristics": {
"length": "long"
...
Note: For APIs that support query parameters for data pagination (maxResults and nextPageToken, for example), use those parameters to reduce the results of each query to a manageable size. Otherwise, the performance gains possible with partial response might not be realized.
Patch (partial update)
You can also avoid sending unnecessary data when modifying resources. To send updated data only for the specific fields that you’re changing, use the HTTP PATCH verb. The patch semantics described in this document are different (and simpler) than they were for the older, GData implementation of partial update.
The short example below shows how using patch minimizes the data you need to send to make a small update.
Example
This example shows a simple patch request to update only the title of a generic (fictional) "Demo" API resource. The
resource also has a comment, a set of characteristics, status, and many other fields, but this request only sends the title field, since that's the only field being modified:
PATCH https://www.googleapis.com/demo/v1/324
Authorization: Bearer your_auth_token
Content-Type: application/json
"title": "New title"
Response:
200 OK
"title": "New title",
"comment": "First comment.",
"characteristics": {
"length": "short",
"accuracy": "high",
"followers": ["Jo", "Will"],
"status": "active",
...
The server returns a 200 OK status code, along with the full representation of the updated resource.
Since only the title field was included in the patch request, that's the only value that is different from before.
Note: If you use the partial response fields parameter in combination with patch, you can increase the efficiency of your update requests even further. A patch request only reduces the size of the request. A partial response reduces the size of the response. So to reduce the amount of data sent in both directions, use a patch request with the fields parameter.
Semantics of a patch request
The body of the patch request includes only the resource fields you want to modify. When you specify a field, you must include any enclosing parent objects, just as the enclosing parents are returned with a partial response. The modified data you send is merged into the data for the parent object, if there is one.
Add: To add a field that doesn't already exist, specify the new field and its value.
Modify: To change the value of an existing field, specify the field and set it to the new value.
Delete: To delete a field, specify the field and set it to null. For example, "comment": null. You can also delete an entire object (if it is mutable) by setting it to null. If you are using the
Java API Client Library, use Data.NULL_STRING instead; for
details, see JSON null.
Note about arrays: Patch requests that contain arrays replace the existing array with the one you provide. You cannot modify, add, or delete items in an array in a piecemeal fashion.
Using patch in a read-modify-write cycle
It can be a useful practice to start by retrieving a partial response with the data you want to modify. This is especially important for resources that
use ETags, since you must provide the current ETag value in the If-Match HTTP header in order to update the resource successfully. After you get the data, you can then modify the values you want to change and send the modified partial representation back with a patch request. Here is an example that assumes the Demo resource uses ETags:
GET https://www.googleapis.com/demo/v1/324?fields=etag,title,comment,characteristics
Authorization: Bearer your_auth_token
This is the partial response:
200 OK
"etag": "ETagString"
"title": "New title"
"comment": "First comment.",
"characteristics": {
"length": "short",
"level": "5",
"followers": ["Jo", "Will"],
The following patch request is based on that response. As shown below, it also uses the fields parameter to limit the data returned in the patch response:
PATCH https://www.googleapis.com/demo/v1/324?fields=etag,title,comment,characteristics
Authorization: Bearer your_auth_token
Content-Type: application/json
If-Match: "ETagString"
"etag": "ETagString"
"title": "",
/* Clear the value of the title by setting it to the empty string. */
"comment": null,
/* Delete the comment by replacing its value with null. */
"characteristics": {
"length": "short",
"level": "10",
/* Modify the level value. */
"followers": ["Jo", "Liz"], /* Replace the followers array to delete Will and add Liz. */
"accuracy": "high"
/* Add a new characteristic. */
The server responds with a 200 OK HTTP status code, and the partial representation of the updated resource:
200 OK
"etag": "newETagString"
"title": "",
/* Title is cleared; deleted comment field is missing. */
"characteristics": {
"length": "short",
"level": "10",
/* Value is updated.*/
"followers": ["Jo" "Liz"], /* New follower Liz is present; deleted Will is missing. */
"accuracy": "high"
/* New characteristic is present. */
Constructing a patch request directly
For some patch requests, you need to base them on the data you previously retrieved. For example, if you want to add an item to an array and don't want to lose any of the existing array elements, you must get the existing data first. Similarly, if an API uses ETags, you need to send the previous ETag value with your request in order to update the resource successfully.
Note: You can use an "If-Match: *" HTTP header to force a patch to go through when ETags are in use.  If you do this, you don't need to do the read before the write.
For other situations, however, you can construct the patch request directly, without first retrieving the existing data. For example, you can easily set up a patch request that updates a field to a new value or adds a new field. Here is an example:
PATCH https://www.googleapis.com/demo/v1/324?fields=comment,characteristics
Authorization: Bearer your_auth_token
Content-Type: application/json
"comment": "A new comment",
"characteristics": {
"volume": "loud",
"accuracy": null
With this request, if the comment field has an existing value, the new value overwrites it; otherwise it is set to the new value. Similarly, if there was a volume characteristic, its value is overwritten; if not, it is created. The accuracy field, if set, is removed.
Handling the response to a patch
After processing a valid patch request, the API returns a 200 OK HTTP response code along with the complete representation of the modified resource. If ETags are used by the API, the server updates ETag values when it successfully processes a patch request, just as it does with PUT.
The patch request returns the entire resource representation unless you use the fields parameter to reduce the amount of data it returns.
If a patch request results in a new resource state that is syntactically or semantically invalid, the server returns a 400 Bad Request or 422 Unprocessable Entity HTTP status code, and the resource state remains unchanged. For example, if you attempt to delete the value for a required field, the server returns an error.
Alternate notation when PATCH HTTP verb is not supported
If your firewall does not allow HTTP PATCH requests, then do an HTTP POST request and set the override header to PATCH, as shown below:
POST https://www.googleapis.com/...
X-HTTP-Method-Override: PATCH
...
Difference between patch and update
In practice, when you send data for an update request that uses the HTTP PUT verb, you only need to send those fields which are either required or optional; if you send values for fields that are set by the server, they are ignored. Although this might seem like another way to do a partial update, this approach has some limitations. With updates that use the HTTP PUT verb, the request fails if you don't supply required parameters, and it clears previously set data if you don't supply optional parameters.
It's much safer to use patch for this reason. You only supply data for the fields you want to change; fields that you omit are not cleared. The only exception to this rule occurs with repeating elements or arrays: If you omit all of them, they stay just as they are; if you provide any of them, the whole set is replaced with the set that you provide.
Send feedback
Except as otherwise noted, the content of this page is licensed under the Creative Commons Attribution 4.0 License, and code samples are licensed under the Apache 2.0 License. For details, see the Google Developers Site Policies. Java is a registered trademark of Oracle and/or its affiliates.
Last updated 2020-11-16 UTC.
Why Google
Choosing Google Cloud
Trust and security
Open cloud
Global infrastructure
Customers and case studies
Analyst reports
Whitepapers
Products and pricing
Google Cloud pricing
Google Workspace pricing
Maps Platform pricing
See all products
Solutions
Application modernization
Artificial Intelligence
Business application platform
Database solutions
Infrastructure modernization
Productivity & collaboration
Security
Smart analytics
DevOps
Industries
Small business
See all solutions
Resources
Google Cloud documentation
Google Cloud quickstarts
Google Cloud Marketplace
Google Workspace Marketplace
Support
Code samples
Tutorials
Training
Certifications
Google Developers
Google Cloud for Startups
System status
Release Notes
Engage
Contact sales
Find a Partner
Become a Partner
Blog
Events
Podcast
Community
Press center
Google Cloud on YouTube
Google Cloud Platform on YouTube
Google Workspace on YouTube
Follow on Twitter
Join User Research
We're hiring. Join Google Cloud!
About Google
Privacy
Site terms
Google Cloud terms
Carbon neutral since 2007
Sign up for the Google Cloud newsletter
Subscribe
Language
English
Deutsch
Español – América Latina
Français
Português – Brasil
中文 – 简体
日本語
한국어
